
<view class="wrap">
    <view class="item-wrap"  wx:for="{{progress}}" wx:key="{{index}}" wx:for-index="indexs">
        <view class="time">{{item.sendTime}}</view>
        <view class="state">
            <view class="state-clasify">
                <text>投递职位</text>
                <text class="content" style="color: #ff4d4d;" wx:if="{{item.inviteStatus!=1}}">职位已下架</text>
                <text class="content" wx:if="{{item.inviteStatus==1}}">{{item.workName}}</text>
            </view>
            <view class="state-clasify">
                <text>当前进度</text>
                <text class="content" wx:if="{{item.companyStatus==0 && item.userStatus==0}}">已投递简历</text>
                <text class="content" wx:if="{{item.companyStatus==1 && item.userStatus==0}}">收到面试邀请</text>
                <text class="content" wx:if="{{item.companyStatus==1 && item.userStatus==1}}">应约前往面试</text>
                <text class="content" wx:if="{{item.userStatus==2}}">面试结束但未评价</text>
                <text class="content" wx:if="{{item.userStatus==3}}">面试结束并已评价</text>
            </view>
        </view>
        <view class="comp" bindtap="toCompany" data-wepy-params-a="{{item.userCompanyId}}">
            <image class="comp-left" mode="aspectFill" src="{{item.header_image}}"/>
            <view class="comp-right">
                <view class="comp-name">
                    <text class="name">{{item.nickname}}</text>
                    <view class="{{item.isApproveOffcial=='1'?'auth':''}}">
                        <icon wx:if="{{item.isApproveOffcial=='1'}}"/>
                        <icon wx:if="{{item.isApproveOffcial=='0'}}"/>
                        <text>{{item.isApproveOffcial=='1'?'已认证':'未认证'}}</text>
                    </view>
                </view>
                <view class="comp-info">
                    <view>
                        <icon/>
                        <text>{{item.createCompanyYear}}</text>
                    </view>
                    <view>
                        <icon/>
                        <text>{{item.cityName}}</text>
                    </view>
                    <view>
                        <icon/>
                        <text>{{item.shopType}}店</text>
                    </view>
                </view>
                <view class="comp-comment">
                    <text>公司评价：</text>
                    <icon class="full" wx:for="{{item.avgNum}}" wx:key="{{index}}"/>
                    <icon class="empty" wx:for="{{5 - item.avgNum}}" wx:key="{{index}}"/>
                </view>
                <view class="comp-jobNum">
                    <icon/>
                    <text>{{item.workNum}}个 职位在招</text>
                </view>
            </view>
            <icon class="right-arrow"/>
        </view>
        <view class="btn-wrap">
            <button wx:if="{{item.companyStatus!=1 && item.userStatus==0}}" hover-class="btn-active">已投递</button>
            <button bindtap="showInvitation" wx:if="{{item.companyStatus==1 && item.userStatus==0}}" disabled="{{item.inviteStatus!=1}}" hover-class="btn-active" data-wepy-params-a="{{item.sendResumeId}}" data-wepy-params-b="{{indexs}}">查看面试邀请</button>
            <button bindtap="commentInvitation" wx:if="{{item.companyStatus==1 && item.userStatus==1}}" disabled="{{item.inviteStatus!=1}}" hover-class="btn-active" data-wepy-params-a="{{indexs}}">面试结束并进行评价</button>
            <button bindtap="commentInvitation" wx:if="{{item.userStatus==2}}" hover-class="btn-active" disabled="{{item.inviteStatus!=1}}" data-wepy-params-a="{{indexs}}">进行面试评价</button>
            <button bindtap="getComment" wx:if="{{item.userStatus==3 && item.hasFeedback==1}}" disabled="{{item.inviteStatus!=1}}" hover-class="btn-active" data-wepy-params-a="{{item.sendResumeId}}">查看评价</button>
            <button wx:if="{{item.userStatus==3 && item.hasFeedback==0}}" hover-class="btn-active">已完成</button>
        </view>
    </view>
</view>
<view class="modal {{modalToggle?'modal-active':''}}" bindtap="hideInvitation" catchtouchmove="stopPropagation">
    <view class="modal-wrap" catchtap="stopPropagation">
        <view class="modal-title">您收到面试邀请</view>
        <view class="modal-list">
            <text class="modal-label">面试时间</text>
            <text class="modal-content">{{interview.time}}</text>
        </view>
        <view class="modal-list">
            <text class="modal-label">面试地点</text>
            <text class="modal-content">{{interview.province_name}}{{interview.city_name}}{{interview.district_name}}{{interview.address}}</text>
        </view>
        <view class="modal-list">
            <text class="modal-label">联系人</text>
            <text class="modal-content">{{interview.name}}</text>
        </view>
        <view class="modal-list">
            <text class="modal-label">联系电话</text>
            <text class="modal-content" style="color: #40c4ff;">{{interview.tel}}</text>
        </view>
        <view class="modal-alert">
            <icon/>
            <text>点击确定后，如果爽约放鸽子，将对您今后的求职造成一定影响，请遵守信用。</text>
        </view>
        <view class="modal-footer">
            <button bindtap="hideInvitation" plain class="modal-cancel-btn" hover-class="modal-btn-active">再想想</button>
            <button bindtap="sureInvitation" class="modal-sure-btn" hover-class="modal-btn-active">确定前往面试</button>
        </view>
    </view>
</view>

<view class="toast-wrap" hidden="{{$toast$hide}}" style="top:{{$toast$top}}px">{{$toast$content}}</view>
